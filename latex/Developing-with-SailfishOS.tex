\input{00-combine}



%
\section{Physical device}\label{sec:device}
%
Developing with the emulator only will do you no good. You have to experience your program on a real device. Things that might look great on an emulator, may not even work on a real phone. It maybe just you fingers that are hiding the screen. Buttons are too small or too close.
%
%
\subsection{How to connect to SSH over usb connection from PC}
%
\begin{itemize}
\item the usb is either \verb,usb_storage, or \verb,usb_net,
\item enable developer mode
\item enable SSH (it's openssh, not dropbear)
\item set password
\item goto usb settings
\item change that to developer mode
\item reconnect usb cable
\item you should see the ip address of the device on the UI
\item you should be able to ssh to that address from PC (set an ip address first)
\end{itemize}
Taken from \cite{ex01}.

This section obviously needs a lot more information. Lacking a physical device or an SDK that enables me to interact with it, this has to be done in future.
%
%
\subsection{How do I deploy a package to my phone?}
%
As of now there is only the Alpha2 SDK out that has no built-in features to deploy a package to your device.

But you can help yourself\footnote{Since I have no device yet, I couldn't test this. Time will come, more details will follow.}:
%
\begin{enumerate}
\item build RPM
\item deploy RPM, look in the output for the location
\item copy RPM to Jolla phone
\item use \verb,pkcon install-local, to install it locally
\end{enumerate}
%
Also have a look at \cite{mer02}.
%
%
\section{Harbour}\label{sec:harbour}
%
our wrote a fantastic app and now you want to bring it to the people. Head over to the Jolla Harbour\cite{jolla02} and submit your app.

There are some things about naming an such to consider when you prepare your app, here is the Sailfish FAQ from the Jolla Harbour as of now = Dec. 2nd 2013. This is of course a moving target, which means there will be more libraries available in future. Even if you don't have an app ready to submit, you should look there once in a while. Ne need to re-invent the wheel here. If there is missing something, contact Jolla.

\begin{lstlisting}[language=TeX]
Naming
What should I name the application?
You have to use the prefix "harbour-" in front of the application name. Only lower case characters are allowed.
Why do I have to name my Application with a prefix?
The reason for this requirement is so that applications do not clash with other installed packages on the device. It also allows us to verify certain things automatically, e.g. imports of your own QML modules.
What is that '$NAME' you use here in the FAQ's?
That is your application name including the prefix "harbour-" (e.g. harbour-myawesomeapp).
How can I name the app in the application launch grid? I don't want that long name with prefix to appear there!
In the .desktop file, there is the "Name=" field. The string defined there is shown in the application launcher as the application name. That name does not have to be unique. So there might be more than one application called "HelloWorld!" in the application launcher grid. The package name of the application ($NAME) does not appear in the UI.
Where must this $NAME be used?
the executable binary: /usr/bin/$NAME
the .desktop file: /usr/share/applications/$NAME.desktop
the icon: /usr/share/icons/hicolor/86x86/apps/$NAME.png
the folder in /usr/share where you can install other application files: /usr/share/$NAME
The rpm package name, note that is not necessarily the same as the RPM file name! 
The name you get with:
rpm -q --queryformat='%{NAME}\n' -p harbour-awesomeapp-1.0.0.armv7hl.rpm
That is what is set in .spec resp. .yaml file under "Name: "
Your own QML imports resp. modules, but with "-" replaced with "." due to QML grammar rules. e.g import harbour.myawesomeapp.MyQmlModule 1.0 as MyModule
Do I need to put that unique $NAME into the "Title" field when I upload an app to the Harbour?
No, in the "Title" field you can use a pretty name that will be shown to the user in the store client UI.
RPM-Packaging
In which locations can I install files?
You are allowed to install:
/usr/bin/$NAME <- the executable binary
/usr/share/applications/$NAME.desktop <- the desktop file
/usr/share/icons/hicolor/86x86/apps/$NAME.png <- the icon file
/usr/share/$NAME/* <- anything else (data files, private shared libraries, private QML imports, etc..) goes here
Why are you so restrictive? Why can't I install my libraries, images etc in places where I think it makes sense?
We have to ensure that rpms can be installed and do not conflict with other rpms. It will also allow us to install store applications under a different path (rpm --relocate) in the future.
What does the package name have to be? (.spec/.yaml "Name: foo")
Use "Name: $NAME". See Naming section in this FAQ.
Icons
Which size should the application icon be?
86x86. Older SDK versions contain a template which suggests a size of 90x90. That is obsolete and will soon be updated with the next SDK version.
Where shall the icon be installed?
/usr/share/icons/hicolor/86x86/apps/$NAME.png. Older SDK versions contain a template which suggests a size of 90x90 and also a different install path. That is obsolete, not supported anymore, and will soon be updated with the next SDK version.
What file formats are supported for the icon?
The icon must be a PNG file.
How do I define an icon in the .desktop file, so it shows up in the application launcher?
Icon=$NAME

You must not use absolute path names. There was a bug in older SDK versions (lipstick < 0.18.6) so the absolute path was necessary and the template suggested it. That will soon be updated with the next SDK version. The reason to not use absolute path names is: it would allow us in the future to install store applications under a different path.

.desktop-Files
What do I have to put into the Exec= line?
Exec=$NAME (for Silica applications using C++ and QML) or Exec=sailfish-qml $NAME (for QML-only Silica applications without an application binary)
What do I have to put into the Icon= line?
Icon=$NAME
What do I have to put into the Name= line?
The name defined there is shown in the application launcher as the application name. That name does not have to be unique. So there might be more than one application called "HelloWorld!" in the application launcher grid.
What do I have to put into the X-Nemo-Application-Type= line and what is it good for?
For Silica Qt 5 applications, use "X-Nemo-Application-Type=silica-qt5" - this will make sure that the application is launched using the right booster, and will make startup faster.
How can I disable single-instance launching?
In general, you should use single-instance launching (tapping on the application icon will bring the existing window to the foreground). If for some reason your application conflicts with single-instance launching, you can add "X-Nemo-Single-Instance=no" to your .desktop file to disable this behaviour.
QML API
Which QML modules (imports) are allowed?
Currently the following QML modules (imports) are allowed:
QtQuick 2.0
QtQuick 2.1
QtMultimedia 5.0
Sailfish.Silica 1.0
QtQuick.LocalStorage 2.0
QtQuick.XmlListModel 2.0
QtQuick.Particles 2.0
QtQuick.Window 2.0
Why do you not allow more QML modules from Qt/Nemo/Mer or other 3rd party?
Not all modules have a stable API. Before promising compatibility, we must first make sure that we can promise the API is of high quality and will not change (through a review process). We are open for suggestions to provide more APIs.
Can I use QML modules, which I ship together with the application?
Yes, you can do that. But you have to prefix the name of the imports with your $NAME, but with "-" replaced with "." due to QML grammar rules (e.g. harbour.myapp.myQmlObject, where harbour-myapp = $NAME). And you have to install them under /usr/share/$NAME (loadable QML plugins or the QML files) if the type is not built into the application (setContextProperty).
Shared Libraries
Which shared libraries can I link against?
Currently the following shared libraries are allowed:
libsailfishapp.so.1
libmdeclarativecache5.so.0
libQt5Quick.so.5
libQt5Qml.so.5
libQt5Network.so.5
libQt5Gui.so.5
libQt5Core.so.5
libGLESv2.so.2
libpthread.so.0
libstdc++.so.6
libm.so.6
libgcc_s.so.1
libc.so.6
ld-linux-armhf.so.3
libQt5Concurrent.so.5
libQt5Multimedia.so.5
libQt5Sql.so.5
libQt5Svg.so.5
libQt5XmlPatterns.so.5
libQt5Xml.so.5
librt.so.1
libz.so.1
libQt5DBus.so.5
Why do you allow just such a limited amount of shared libraries?
We can only whitelist libraries that have both a stable API and ABI, and which we are sure we can provide for the forseeable future. For now, the list is quite small, but as Sailfish OS matures, we expect to add more. We are open for suggestions to allow more stable shared libraries.
Can I link against shared libraries which I ship with the app together in the same rpm?
Yes, you can do that. But you have to install the library under /usr/share/$NAME/. You have to ensure yourself that the rpath in your executable is set correct, so the linker finds the library. Future versions of invoker might set the LD_LIBRARY_PATH to /usr/share/$NAME/, but that is not yet in place.
You do not allow QtOpenGL, what is the alternative?
QtGui in Qt 5 includes a number of classes to replace the QtOpenGL classes. In many cases, using the QtGui equivalents will just involve a renaming (QGL* -> QOpenGL*) and removing the linking against QtOpenGL. There are API changes involved in some cases, but these should not be too difficult.

Startup performance is better without using QtOpenGL, which is one reason we are disallowing it. This is due to its dependency on QtWidgets, which is quite a large library.

Why do you not allow QtWidgets?
QtWidgets is not optimized for (or well tested) on Sailfish OS. Furthermore, it is generally not going to result in a good user experience due to using non-touch-optimized controls, and software rendering (which will be much slower than rendering using OpenGL ES on Sailfish OS).
I think library XYZ would be useful for others too, I want to make that library available in the store. Can I submit a library only rpm?
No, the app store, is as the name says, an application store and not a shared library store. But if you think an important library is missing in SailfishOS and you want to see it available in the platform, then please join the Mer and Nemo project and make the library available in one of these projects. Then suggest the library to become a supported one (by making sure it has a stable API, and is well-maintained and supported).
Runtimes
Can I submit Python applications?
Currently not, there are some enablers missing for that. But we are working on it, to make that happen. You can support us with that effort, please ask in Nemo project how to help with Python.
Can I submit Perl/Ruby/$MY_FAVOURITE_LANGUAGE applications?
No, and we currently do not plan to support that. But feel free to request it, if there is enough interest, we might allow it in the future.
\end{lstlisting}
%
%
\section{Bug Reports}\label{sec:bugreports}
%
What's the correct way to report bugs?

A good question. IMHO IRC and mailing list (see section \nameref{subsubsec:community:sailfishos} on page \pageref{subsubsec:community:sailfishos}) are just temporary solutions. You can also write to \verb,developer-care@jolla.com, but right at the moment there is no developer-specific bug tracker.
%
%
\section{Troubleshooting}\label{sec:troubleshooting}
%
\subsection{Mer build engine for cross compilation}\label{subset:ts:mersdk}
%
\subsubsection{Management Webpage}
%
For some users (this includes me), the management webpage is not shown, instead there is an empty webpage ("about:blank"). Type "127.0.0.1:8080" as URL and hit <Enter>\footnote{the complete URL is http://127.0.0.1:8080/C/targets/}. If it doesn't work at all (even that happened to me), then you can enter "127.0.0.1:8080" in your regular browser.

If you are in doubt that there is anything running at all, you can use \verb,telnet, or \verb,mmap,\cite{nm01} to check if someone is listening on the given address and port.
%
\begin{lstlisting}[language=bash]
telnet 127.0.0.1 8080
# you should see some web server welcome messages
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
\end{lstlisting}
%
\begin{lstlisting}[language=bash]
nmap -p 8080 -sV localhost

Starting Nmap 6.25 ( http://nmap.org ) at 2013-12-05 18:20 CET
Nmap scan report for localhost (127.0.0.1)
Host is up (0.000071s latency).
PORT     STATE SERVICE VERSION
8080/tcp open  http    WEBrick httpd 1.3.1 (Ruby 1.9.3 (2013-06-05))

Service detection performed. Please report any incorrect results at http://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 6.49 seconds
\end{lstlisting}
%
Maybe your VM isn't reacting at all, see \nameref{subsubsec:ts:slowmersdk} on page \pageref{subsubsec:ts:slowmersdk}.
%
%
\subsubsection{SSH login pre Alpha2SDK}
%
The first SsilfishOS SDK and the SailfishOS Alpha SDK used to store the private keys in the directory \verb,~./ssh,. Here come some quirks that happened to me. \emph{You should upgrade!}

You try to connect via SSH with the VM and get this:
\begin{lstlisting}[language=bash]
ssh -p 2222 -i ~/.ssh/mer-qt-creator-rsa nemo@localhost
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that a host key has just been changed.
The fingerprint for the RSA key sent by the remote host is
75:51:61:e8:3a:80:41:ab:81:36:bc:45:8f:ca:56:76.
Please contact your system administrator.
Add correct host key in /Users/sven/.ssh/known_hosts to get rid of this message.
Offending RSA key in /Users/sven/.ssh/known_hosts:3
RSA host key for [localhost]:2222 has changed and you have requested strict checking.
Host key verification failed.
\end{lstlisting}
%
Somehow the image of the VM has changed since you last logged in. Remove it from \verb,known_hosts, and re-connect to accept the new host key.
%
\begin{lstlisting}[language=bash]
ssh-keygen -R [localhost]:2222
/Users/sven/.ssh/known_hosts updated.
Original contents retained as /Users/sven/.ssh/known_hosts.old
ssh -p 2222 -i ~/SailfishOS/vmshare/ssh/private_keys/engine/mersdk mersdk@localhost
The authenticity of host '[localhost]:2222 ([127.0.0.1]:2222)' can't be established.
RSA key fingerprint is 75:51:61:e8:3a:80:41:ab:81:36:bc:45:8f:ca:56:76.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '[localhost]:2222' (RSA) to the list of known hosts.
\end{lstlisting}
%
It may even happen that your (local) private key is missing, check with
%
\begin{lstlisting}[language=bash]
ls ~/.ssh/mer-qt-creator-rsa
ls: /Users/sven/.ssh/mer-qt-creator-rsa: No such file or directory
\end{lstlisting}
%
Right at the moment I am not sure when the key files were delivered since I don't have a SDK older than Alpha2 installed.

I had problems, when the public key was in the \verb,.ssh, directory.
%
\begin{lstlisting}[language=bash]
ssh -p 2222 -i ~/.ssh/mer-qt-creator-rsa root@localhost
Permission denied (publickey).
# just a generic error message, then
mv ~/.ssh/mer-qt-creator-rsa.pub ~/.ssh/mer-qt-creator-rsa.pub.backup
ssh -p 2222 -i ~/.ssh/mer-qt-creator-rsa nemo@localhost
\end{lstlisting}
%
The private key file may have wrong permissions, the error message is very clear about that.

\begin{lstlisting}[language=bash]
ssh -p 2222 -i ~/.ssh/mer-qt-creator-rsa nemo@localhost
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
Permissions 0644 for '/Users/sven/.ssh/mer-qt-creator-rsa' are too open.
It is required that your private key files are NOT accessible by others.
This private key will be ignored.
bad permissions: ignore key: /Users/sven/.ssh/mer-qt-creator-rsa
Permission denied (publickey).
# so change them
chmod 600 ~/.ssh/mer-qt-creator-rsa
\end{lstlisting}
%
%
\subsubsection{SSH login Alpha2SDK and later}
%
No Alpha2 specific bugs yet. If you have trouble with the private keys, please note that they are now stored in another directory\cite{mer02}.
%
\begin{lstlisting}[language=bash]
~/SailfishOS/vmshare/ssh/private_keys/engine
\end{lstlisting}
%
%
\subsubsection{SSH login any SDK}
%
If your \verb,SSH, connection still does not work, it may be that the drive with the \verb,authorized_keys, file is not mounted.
Check with \verb,mmap,\cite{nm01} if a \verb,ssh, service is listening at all.
%
\begin{lstlisting}[language=bash]
# this is an example of a non-working ssh daemon
nmap -p 2222 -sV localhost

Starting Nmap 6.25 ( http://nmap.org ) at 2013-12-05 13:37 CET
Nmap scan report for localhost (127.0.0.1)
Host is up (0.00021s latency).
PORT     STATE SERVICE        VERSION
2222/tcp open  EtherNet/IP-1?

Service detection performed. Please report any incorrect results at http://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 89.49 seconds
\end{lstlisting}
%
If you can see that the ssh daemon is not working, you can restart the VM directly from VirtualBox, log into the VM as user \verb,root, from there, check for the daemon and start it.
%
\begin{lstlisting}[language=bash]
ps -ef | grep sshd
root     533   0  2:05pm tty2    0:00.01 grep sshd
# OK, it is not running - start it
systemctl start sshd.service
# check again
ps -ef | grep sshd
root    534   1  0 2:06pm ?       0:00.01 /usr/sbin/sshd -D -f /etc/ssh/sshd_config_engine
root    535   1  0 2:06pm tty2    0:00.01 grep sshd
\end{lstlisting}
%
Now you can check from your development machine again.
%
\begin{lstlisting}[language=bash]
# here the ssh daemon works
nmap -p 2222 -sV localhost

Starting Nmap 6.25 ( http://nmap.org ) at 2013-12-05 14:01 CET
Nmap scan report for localhost (127.0.0.1)
Host is up (0.00013s latency).
PORT     STATE SERVICE VERSION
2222/tcp open  ssh     OpenSSH 5.6 (protocol 2.0)

Service detection performed. Please report any incorrect results at http://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 0.24 seconds
\end{lstlisting}
%
To enable the service check if it disabled at all.
%
\begin{lstlisting}[language=bash]
[root@SailfishSDK ~]# systemctl status sshd.service
sshd.service - OpenSSH Daemon
	  Loaded: loaded (/lib/systemd/system/sshd.service; disabled)
#                                                           ^
#                                                           |
# look here ------------------------------------------------+
	  Active: active (running) since Fri, 06 Dec 2013 16:46:45 +0000; 28min ago
	 Process: 523 ExecStartPre=/bin/bash -c if [ \( ! -s /etc/ssh/ssh_host_dsa_key \) -a \( ! -s /etc/ssh/ssh_host_dsa_key.pub \) -a \( ! -s /etc/ssh/ssh_host_rsa_key \) -a \( ! -s /etc/ssh/ssh_host_rsa_key.pub \) ]; then /usr/sbin/sshd-hostkeys; fi (code=exited, status=0/SUCCESS)
	Main PID: 527 (sshd)
	  CGroup: name=systemd:/system/sshd.service
		  + 527 /usr/sbin/sshd -D -f /etc/ssh/sshd_config_engine

Dec 06 16:46:45 SailfishSDK sshd[527]: Server listening on 0.0.0.0 port 22.
Dec 06 16:46:45 SailfishSDK sshd[527]: Server listening on :: port 22.
Dec 06 16:49:59 SailfishSDK sshd[1288]: Accepted publickey for mersdk from 10.0.2.2 port 49275 ssh2
Dec 06 17:11:35 SailfishSDK sshd[1315]: Connection closed by 10.0.2.2
Dec 06 17:13:09 SailfishSDK sshd[1316]: Accepted publickey for root from 10.0.2.2 port 49300 ssh2
[root@SailfishSDK ~]#
\end{lstlisting}
%
Enable the service AKA unit.
\begin{lstlisting}[language=bash]
[root@SailfishSDK ~]# systemctl enable sshd.service
ln -s '/lib/systemd/system/sshd.service' '/etc/systemd/system/multi-user.target.wants/sshd.service'
# check with reboot
[root@SailfishSDK ~]# shutdown -r now
\end{lstlisting}
%
%
\subsubsection{Drive(s) not mounted}\label{subsubsec:ts:nodrive}
%
Log into the VM and have a look if the drive with the \verb,authorized_keys, file is mounted.
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.5]{../media/gfx/VirtualBox/vboxmersdkcheckdrives.png} 
  \caption{Check for authorized\_keys.}
  \label{fig:vboxmersdkcheckdrives}
\end{figure}
%
If the drive exists\footnote{It seems that the output of mount does not show it right, even if it is mounted and accessible.}, you can check if the file is accessible.
\begin{lstlisting}[language=bash]
ls -lah /etc/ssh/authorized_keys/mersdk/authorized_keys
ls -lah /etc/ssh/authorized_keys/root/authorized_keys
\end{lstlisting}
%
Handle the other shared folders according to this.
%
Your VM acts strange and you don't know why? Check if updates for VirtualBox are available. If yes, download and install the latest version and don't forget the extension pack.
%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.6]{../media/gfx/VirtualBox/vboxisupdateavailable.png} 
  \caption{Check if VirtualBox update is available.}
  \label{fig:vboxisupdateavailable}
\end{figure}
%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.6]{../media/gfx/VirtualBox/vboxupateavailable.png} 
  \caption{Update for VirtualBox is available.}
  \label{fig:vboxupateavailable}
\end{figure}
%
%
\subsubsection{Slow}\label{subsubsec:ts:slowmersdk}
%
I had the situation where everything seems perfect and still it didn't work. For me the last resort was re-installing the VM with the Mer SDK, see section \nameref{sec:uninstall} on page \pageref{sec:uninstall} but even that did not help in the end.
%
One one machine the VM was running but slow\footnote{As in tar pit.}, so every connection attempt timed out. Even control from VirtualBox itself was almost impossible.
%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.6]{../media/gfx/VirtualBox/vboxtarpit.png} 
  \caption{VM can not be controlled.}
  \label{fig:vboxtarpit}
\end{figure}
%
This could even happen to a working and running VM to which I successfully logged in via ssh. Working inside the terminal: no problem: compiling: no go.
Until now I found no solution for this.
%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.6]{../media/gfx/VirtualBox/MerSDKTimeout.png} 
  \caption{Project ERROR: Could not connect to MerSDK Virtual Machine. Timeout waiting for reply from server.}
  \label{fig:MerSDKTimeout}
\end{figure}
%
This happened on a notebook where the hard drive is clearly a bottleneck but it should nevertheless be fast enough to handle this task\footnote{No SSD, spinning disks with 5400 RPM.}.

If nothing else works, power off the VM from inside VirtualBox. Even that may freeze. When the VM is in state \emph{aborted}, kill VirtualBox and start it again. Now start the VM manually from inside VirtualBox. QtCreator will not recognize such a VM as running. Hit the $\vcenter{\hbox{\includegraphics[scale=0.6]{../media/gfx/QtCreator/SDKstart.png}}}$ button and after its green again, your good to go.
\\
\\
Funny enough after looking into the logfile\footnote{Have look in the ~/SailfishOS/mersdk/MerSDK/Logs folder} of the VM, I found this message:
%
\begin{lstlisting}[language=tex]
AIOMgr: Host limits number of active IO requests to 16. Expect a performance impact.
\end{lstlisting}
%
After some google'ing I found a hint mentioning the \emph{I/O Host Cache} setting being off\footnote{This was for Vagrant which also utilizes VitualBox.}. So I checked to box for a test.
%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.6]{../media/gfx/VirtualBox/IOCache.png} 
  \caption{Turn on the host I/O cache.}
  \label{fig:IOCache}
\end{figure}
%

Inside the VirtualBox manual is a section that may describe the cause for these problems\cite{vbox02}, as it talks about slow disk systems and that is truly the case here\footnote{From the slow notebook hard drive perspective}, but I must admit that I did not experience the mentioned IDE/SATA errors.

I am testing this right now, don't know yet if that really helps = call this experimental.

Open your terminal and run the following commands
%
\begin{lstlisting}[language=bash]
VBoxManage showvminfo "MerSDK"|grep SATA
Storage Controller Name (0):            SATA
SATA (1, 0): /Users/sven/SailfishOS/mersdk/mer.vdi (UUID: fd25a075-e327-46b6-8657-3ab4c4294f94)
# the 1 in 'SATA (1, 0)' is what we are looking for
# it translates to the 1 in 'LUN#1' in the following command
#                                |
#                                +--------------------------------+
#                                                                 |
VBoxManage setextradata "MerSDK" "VBoxInternal/Devices/ahci/0/LUN#1/Config/FlushInterval" 5000000
# reasonable values for FlushInterval are between 1000000 (write often) and 10000000 (write bigger chunks)
# so I chose the middle ground (meanwhile I am at 1000000)
# if it fails after all and your VM refuses to start, you can remove the value with
VBoxManage setextradata "MerSDK" "VBoxInternal/Devices/ahci/0/LUN#1/Config/FlushInterval"
VBoxManage setextradata "MerSDK" "VBoxInternal/Devices/ahci/0/LUN#1/Config/IgnoreFlush"
\end{lstlisting}
%
This didn't solve all my problems so far but the VM got more responsive\footnote{This comes at a price of course, the more often the VM writes the more often it will stress the host machine = your development computer.}.

So far all tweaks have the same effect: they work after I implemented them bot only for a certain time. Then everything goes back to normal =  poor performance or not working at all. But all the problems occur on 1 of 3 OSC machines I've tested the SDK on.

So this could be a some OSX machines problem only.

Another variation of this problem: MerSDK VM starts, I can login via SSH and everything is fine. After starting to build, the SSH session freezes. No CPU spikes, working directly inside the VM is still possible.
%
%
\subsection{Emulator}
%
%
\subsubsection{Deploying offline}
%
When you deploy an app to the emulator\footnote{Deploy happens when you hit \emph{run}.} and the deployment process discovers that you have dependent packages, it tries to download them automatically. That works not so well if you're offline. The following lines could show up in the \emph{Compile Output} tab.
%
\begin{lstlisting}[language=tex]
Status: 	Downloading packages
Package:	qt5-qttest-5.1.0+git17-1.13.1.i486
Results:
Fatal error: Download (curl) error for 'http://releases.sailfishos.org/sdk/latest/jolla/i486/qt/i486/qt5-qttest-5.1.0+git17-1.13.1.i486.rpm':
Error code: Connection failed
Error message: Couldn't resolve host 'releases.sailfishos.org'
\end{lstlisting}
%
At least for the first compilation of your app you may need a connection to the internet.
%
%
\subsubsection{Timeout, emulator offline}
%
The emulator is running as you can see but QtCreator complains that it is not reachable. That is a well known bug, just hit the start button in QtCreator and try again.
%
%
\section{Use your editor of choice}\label{sec:editorofchoice}
%
Now you are happy with coding for a device with SailfishOS and the SDK, API and all, but for some reason you want to use \emph{your} editor\footnote{notepad^^, vi, emacs, eclipse, named it.} of choice. Because you are used to it, never used something else, it's better, whatever.

Well, I don't know what editor you are using and providing instructions for all them seems unfeasible. Instead I will try to walk you through all the build/compile/steps on the command line. This way you can see what's really happening behind the scenes and can integrate those steps into the environment of your choice. There are at least two ways to do this. First is the way QtCreator goes: call wrapper scripts. The second is to really walk barefooted.
%
%
\subsubsection{QtCreator way}\label{subsubsec:byfoot:qtcreator}
%
TODO
%
%
\subsubsection{Going barefooted}\label{subsubsec:barefooted:qtcreator}
%
TODO
%
%
\section{SDK / API (TODO)}\label{sec:sdk:api}
%
%
%
\subsubsection{Application lifecycle}
%
TODO
%
%
%
\subsubsection{Gyroscope - device rotation}
%
TODO
%
%
%
\subsubsection{GPS - where am I?}
%
TODO
%
%
%
\subsubsection{Bluetooth}
%
TODO
%
%
%
\subsubsection{NFC}
%
TODO
%
%
%
\subsubsection{The other half}
%
TODO
%
%
\section{Community}\label{sec:community}
%
Much of the communication is done via \verb,IRC,\cite{irc01}, you should make yourself familiar with that and follow the guidelines of the respective channels. You will see that not each of them is as chatty as a marketplace.
%
%
\subsection{Jolla}
%
Jolla homepage: \url{http://jolla.com}.
\\
Jolla on Twitter: \url{https://twitter.com/JollaHQ}.
%
%
\subsubsection{SailfishOS}\label{subsubsec:community:sailfishos}
%
As a developer you should subscribe to the mailing list at \url{https://lists.sailfishos.org/cgi-bin/mailman/listinfo/devel}.

Have a look at the Wiki at \url{https://sailfishos.org/wiki/Main_Page}.
%
\\At freenode: \verb,#sailfishos,.
%

If those don't match, there is still \verb,developer-care@jolla.com,.
%
%
\subsubsection{Mer}
%
At freenode: \verb,#mer,.
Homepage: \url{http://merproject.org}.
%
\subsubsection{Nemo mobile}
%
At freenode: \verb,#nemomobile,.
Mer Wiki page about the Nemo project: \url{https://wiki.merproject.org/wiki/Nemo}.
%
%
\section{Uninstall}\label{sec:uninstall}
%
You really want to quit? Stay here, the water is warm! Jokes aside, for whatever reason you might want to uninstall the SDK, here is how is goes.
%
%
\subsubsection{OSX}\label{subsec:uninst:osx}
%
%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.6]{../media/gfx/OSX/OSXSDKMaintenaceTool.png} 
  \caption{Inside the SailfishOS folder you find the maintenance application. Start it to uninstall the SDK.}
  \label{fig:uninst:osx:maintenance}
\end{figure}
%
%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.6]{../media/gfx/OSX/osxuninstall01.png} 
  \caption{Uninstall, step 1.}
  \label{fig:uninst:osxuninstall01}
\end{figure}
%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.6]{../media/gfx/OSX/osxuninstall02.png} 
  \caption{Uninstall, step 2.}
  \label{fig:uninst:osxuninstall02}
\end{figure}
%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.6]{../media/gfx/OSX/osxuninstall03.png} 
  \caption{Uninstall, step 3.}
  \label{fig:uninst:osxuninstall03}
\end{figure}
%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.6]{../media/gfx/OSX/osxuninstall04.png} 
  \caption{Uninstall, step 4.}
  \label{fig:uninst:osxuninstall04}
\end{figure}
%
To make it really clean, remove orphaned files and directories. Of course you can keep those files for later use.
%
\begin{lstlisting}[language=bash]
# remains from the pre Alpha2 SDK
rm ~/.ssh/mer-qt-creator-rsa*
# there seem remains of every iteration of the SDK
rm -R ~/.config/SailfishAlpha*
# created if you deploy an app
rm -R ~/rpmbuild
\end{lstlisting}
%
If you don't need VirtualBox anymore, mount the diskimage\footnote{You still have that,don't you?} and start the \verb,VirtualBox_Uninstall.tool,, a bash script that removes all components form your system.
%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.6]{../media/gfx/OSX/osxuninstall05.png} 
  \caption{Uninstall of VirtualBox.}
  \label{fig:uninst:osxuninstall05}
\end{figure}
%
%
\subsubsection{Windows}\label{subsec:uninst:win}
%
\begin{itemize}
\item Go to the control panel, choose "programs and features" and uninstall the SailfishOS SDK.
\item Uninstall the VirtualBox from the same window if you don't need it anymore.
\end{itemize}
%
%
\subsubsection{Linux}\label{subsec:uninst:linux}
%
Sorry, as for installation: until now I can not provide information here.
%
%
\section{Thanks}\label{sec:thanks}
%
Of course a big thanks goes out to everybody at Jolla. You are \verb,#unlike <3,\\\\
%
Thanks go to David Greaves for convincing me to use another markup language\footnote{Yes, it's still not converted but hey, I am already persuaded}.\\\\
%
A big thank you goes to Juergen Bocklage-Ryannel and Johan Thelin for creating such a wonderful online resource about QML\cite{qml01}.\\\\
%
Artem Marchenko takes care of the missing hello world, thank you!
%
% TODO name some special persons here!
%
%
\section{Appendix}\label{sec:appendix}
%
%
\subsection{mb2 - bash script}\label{subsec:appendix:mb2}
%
\lstinputlisting{../media/sdk/mb2}[language=bash]
%
%

\begin{thebibliography}{xxxxxxxxxxxx}
%
%
\bibitem [jolla01]{jolla01}
  Jolla ltd., based in Finland - the inventors of the Jolla smartphone \\\url{http://jolla.com}
\bibitem [jolla02]{jolla02} Jolla Harbour - the place for your apps \\\url{https://harbour.jolla.com}
 %
 %
\bibitem [sailfishos01]{sailfishos01}
	SailfisoS - the operating system driving the Jolla smartphone \\\url{https://sailfishos.org}
\bibitem [sailfishos2]{sailfishos2} Quick introduction into development with the SailfishOS SDK \\\url{https://sailfishos.org/develop.html}
\bibitem [sailfishos3]{sailfishos3} SailfishOS SDK overview \\\url{https://sailfishos.org/develop-overview-article.html}
\bibitem [sailfishos4]{sailfishos4} SailfishOS open source code \\\url{http://releases.sailfishos.org/sdk/}
\bibitem [sailfishos5]{sailfishos5} Unofficial Sailfish OS third party open source apps collection \\\url{https://github.com/sailfishapps}
\bibitem [sailfishos6]{sailfishos6} SailfishOS, Packaging Applications for Distribution\\\url{https://sailfishos.org/develop-packaging-apps.html}
%
%
\bibitem[vbox01]{vbox01} VirtualBox, a virtualization platform from Oracle\\\url{https://www.virtualbox.org/wiki/Downloads}
\bibitem[vbox02]{vbox02} Guest shows IDE/SATA errors for file-based images on slow host file system\\\url{http://www.virtualbox.org/manual/ch12.html#idp60327840}
%
%
\bibitem [hc01]{hc01} hardcodes, that's my nickname and my website\\\url{http://www.hardcodes.de}
\bibitem [hc02]{hc02} This document on Github\\\url{https://github.com/hardcodes/developwithsailfishos.git}
\bibitem [hc03]{hc03} Alternative Icon for the QtCreator inside of the SailfishOS SDK\\\url{http://blog.hardcodes.de/articles/68/sailfish-os-icon}
\bibitem [hc04]{hc04} Just the PDF version of this document \\\url{http://hardcodes.de/SailfishOS/Developing-with-SailfishOS.pdf}
%
%
\bibitem [qt01]{qt01} The Qt Project. \\\url{https://qt-project.org}
\bibitem [qt02]{qt02} QtCreator. \\\url{https://qt-project.org/doc/
qtcreator-2.8/}
\bibitem [qt03]{qt03} qmake manual. \\\url{http://qt-project.org/doc/qt-4.8/qmake-manual.html}
\bibitem [qt04]{qt04} Meta-Object Compiler (MOC) \\\url{http://qt-project.org/doc/qt-4.8/moc.html}
\bibitem [qt05]{qt05} QML \\\url{http://qt-project.org/doc/qt-5.0/qtqml/qtqml-index.html}
\bibitem [qt06]{qt06} QtQuick \\\url{http://qt-project.org/doc/qt-5.0/qtquick/qtquick-index.html}
\bibitem [qt07]{qt07} QtCreator, Adding New Custom Wizards\\\url{http://qt-project.org/doc/qtcreator-2.8/creator-project-wizards.html}
%
%
\bibitem [wiki01]{wiki01} Wikipedia, Model–view–controller (MVC) \\\url{http://en.wikipedia.org/wiki/Model–view–controller}
\bibitem [wiki02]{wiki02} Wikipedia, Scratchbox2 \\\url{http://en.wikipedia.org/wiki/Scratchbox2}
\bibitem [wiki03]{wiki03} RPM - Redhat Package Manager \\\url{http://en.wikipedia.org/wiki/RPM_Package_Manager}
%
%
\bibitem[sb2]{sb2} Scratchbox2 homepage \\\url{https://maemo.gitorious.org/scratchbox2}
%
%
\bibitem[mer01]{mer01} Mer Wiki, Platform SDK and SB2 \\\url{https://wiki.merproject.org/wiki/Platform_SDK_and_SB2}
\bibitem[mer02]{mer02} Mer Wiki, SailfishOS SDK hacks \\\url{https://wiki.merproject.org/wiki/Sailfish_SDK_Hacks}
\bibitem[mer03]{mer03} Mer Project, start page \\\url{http://merproject.org}
\bibitem[mer04]{mer04} Mer SDK on VirtualBox/Design \url{https://wiki.merproject.org/wiki/SDK_on_VirtualBox/Design}
\bibitem[mer05]{mer05} Mer Wiki, spectacle \\\url{https://wiki.merproject.org/wiki/Spectacle}
%
%
\bibitem[yaml01]{yaml01} yaml specs \\\url{http://www.yaml.org/spec/}
%
%
\bibitem [ex01]{ex01} Jolla details on eLinux \\\url{http://elinux.org/Jolla}
%
%
\bibitem [sdc01]{sdc01} SmartDevCon \\\url{http://smartdevcon.eu}
%
%
\bibitem [gh01]{gh01} The missing HelloWorld. Wizard included by Artem Marchenko \\\url{https://github.com/amarchen/helloworld-pro-sailfish}
%
%
\bibitem[suse01]{suse01} openSUSE Portal:Zypper \\\url{http://en.opensuse.org/Portal:Zypper}
%
%
\bibitem [nm01]{nm01} Nmap, network security scanner \\\url{http://nmap.org}
%
%
\bibitem[irc01]{irc01} A Short IRC Primer \\\url{http://irchelp.org/irchelp/ircprimer.html}
%
%
\bibitem[qml01]{qml01} QML Book - free online resource about QML\\\url{http://qmlbook.org/}
%
%
\bibitem[rpm01]{rpm01} Fedora project - how to build packages \\\url{https://fedoraproject.org/wiki/How_to_create_an_RPM_package}
\bibitem[rpm02]{rpm02} Fedora project - PackageKit CLI (pkcon) \\\url{http://docs.fedoraproject.org/en-US/Fedora/14/html/
Software_Management_Guide/PackageKit_CLI.html}
%
%
\bibitem[fd01]{fd01} FreeDesktop - pkg-config guide \\\url{http://people.freedesktop.org/~dbn/pkg-config-guide.html}
%
%
\end{thebibliography}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{document}